@model testNETCORE.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Trang chủ";
}

<div class="container-xxl bg-white p-0">
    <!-- Spinner Start -->
    <div id="spinner" class="bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->
    <!-- Header Start -->
    <div class="container-fluid header bg-white p-0">
        <div class="row g-0 align-items-center flex-column-reverse flex-md-row" style="padding-top:100px">
            <div class="col-md-6 p-5 mt-lg-5">
                <h1 class="display-5 animated fadeIn mb-4">Tìm Cho Mình Một Nơi <span class="text-primary">Du Lịch</span> Thôi Nào!!!</h1>
                <p class="animated fadeIn mb-4 pb-2">
                    Nha Trang, Đà Lạt, Vịnh Hạ Long... và còn rất nhiều địa điểm đang chờ bạn khám phá
                    😍😍
                </p>
                @*<a href="" class="btn btn-primary py-3 px-5 me-3 animated fadeIn">Get Started</a>*@
            </div>
            <div class="col-md-6 animated fadeIn">
                <div class="owl-carousel header-carousel">
                    <div class="owl-carousel-item">
                        <img class="img-fluid" src="/img/anh1.jpg" alt="">
                    </div>
                    <div class="owl-carousel-item">
                        <img class="img-fluid" src="/img/anh2.jpg" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Header End -->
    <!-- Search Start -->
    <div class="container-fluid bg-primary mb-5 wow fadeIn" data-wow-delay="0.1s" style="padding: 35px;height:126px;z-index:1">
        <div class="container">
            <form method="post" asp-action="Index" asp-controller="Result">
                <div class="row g-2">
                    <div class="col-md-10">
                        <div class="row g-3">
                            <div class="col-md-4" style="z-index:1">
                                <select class="form-select border-0 py-3" name="departurePlace">
                                    <option disabled selected hidden>Chọn vị trí</option>
                                    <option value="Thành phố Hồ Chí Minh">Thành phố HCM</option>
                                    <option value="Hà Nội">Hà Nội</option>
                                </select>
                            </div>
                            <div class="col-md-4" style="z-index:1">

                                <input type="text" id="destinationInput" name="destinationPlace" class="form-control border-0 py-3" placeholder="Nhập nơi muốn đến...">
                                <div class="button-container" style="max-height: 300px; width: 185px; overflow-y: auto; border-radius: 5px">
                                    @foreach (var item in Model.TinhList)
                                    {
                                        <ul style="list-style-type:none;padding-left:0;margin:0">
                                            <li>
                                                <button style="background-color:white;display:none; border-radius:0; width:280px;text-align:initial" class="btn btn-light province destinationButton" data-province="@item.Province" name="aa">@item.Province</button>
                                            </li>
                                        </ul>
                                    }
                                </div>
                                <style>
                                    .button-container::-webkit-scrollbar {
                                        width: 0
                                    }
                                </style>
                                <script>
                                    // Lắng nghe sự kiện khi người dùng nhập vào input "destinationInput"
                                    document.getElementById("destinationInput").addEventListener("input", function () {
                                        // Lấy giá trị nhập vào và chuyển về chữ thường
                                        var inputText = this.value.trim().toLowerCase();
                                        // Lặp qua tất cả các nút chứa tên tỉnh
                                        var buttons = document.querySelectorAll(".destinationButton");
                                        buttons.forEach(function (button) {
                                            // Lấy tên tỉnh từ thuộc tính dữ liệu của nút
                                            var provinceName = button.getAttribute("data-province").trim().toLowerCase();
                                            // Kiểm tra xem giá trị nhập vào có tồn tại trong tên tỉnh không
                                            if (inputText && provinceName.includes(inputText)) {
                                                button.style.display = "block";
                                            } else {
                                                button.style.display = "none";
                                            }
                                        });
                                    });

                                    // Lắng nghe sự kiện khi người dùng nhấp vào button "destinationInput"
                                    var destinationButtons = document.querySelectorAll(".destinationButton");
                                    destinationButtons.forEach(function (button) {
                                        button.addEventListener("click", function () {
                                            // Lấy giá trị tỉnh từ thuộc tính data của button
                                            var province = this.getAttribute("data-province");
                                            // Đặt giá trị tỉnh vào trường nhập liệu "Province" của "destinationInput"
                                            document.getElementById("destinationInput").value = province;

                                            // Ẩn tất cả các nút "destinationInput"
                                            destinationButtons.forEach(function (btn) {
                                                btn.style.display = "none";
                                            });

                                            // Hiển thị nút được chọn
                                            this.style.display = "none"; // Hoặc có thể thay đổi hiển thị sang "inline", "inline-block" tùy vào kiểu của nút
                                        });
                                    });

                                    // Lắng nghe sự kiện khi người dùng nhấp vào button "destinationInput"
                                    var destinationButtons = document.querySelectorAll(".destinationButton");
                                    destinationButtons.forEach(function (button) {
                                        button.addEventListener("click", function (event) {
                                            // Ngăn chặn hành vi mặc định của button là gửi dữ liệu (submit)
                                            event.preventDefault();

                                            // Lấy giá trị tỉnh từ thuộc tính data của button
                                            var province = this.getAttribute("data-province");
                                            // Đặt giá trị tỉnh vào trường nhập liệu "Province" của "destinationInput"
                                            document.getElementById("destinationInput").value = province;

                                            // Ẩn tất cả các nút "destinationInput"
                                            destinationButtons.forEach(function (btn) {
                                                btn.style.display = "none";
                                            });

                                            // Hiển thị nút được chọn
                                            this.style.display = "none"; // Hoặc có thể thay đổi hiển thị sang "inline", "inline-block" tùy vào kiểu của nút
                                        });
                                    });

                                </script>
                            </div>
                            <div class="col-md-4">
                                <input type="date" class="form-control border-0 py-3" name="checkInDay">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <button type="submit" class="btn btn-dark border-0 w-100 py-3">Tìm kiếm</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- Search End -->
    <!-- About Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px; visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
                <h1 class="mb-3">Địa Điểm <span style="color:red;font-weight:bold">Nổi Bật Nhất</span> Trong Tháng</h1>
            </div>
            <div class="row g-5 align-items-center">
                <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s" style="visibility: visible; animation-delay: 0.1s; animation-name: fadeIn;">
                    <div class="about-img position-relative overflow-hidden p-5 pe-0">
                        <img class="img-fluid w-100" src="img/about.jpg">
                    </div>
                </div>
                <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s" style="visibility: visible; animation-delay: 0.5s; animation-name: fadeIn;">
                    @{
                        var noiBat = Model.TourList[0];
                        <h1 class="mb-4">@noiBat.TourName</h1>
                        <p style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;" class="mb-4">@noiBat.Descripsion</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Hướng Dẫn Viên</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Khách Sạn 3*</p>
                        <p><i class="fa fa-check text-primary me-3"></i>Vé Tham Quan</p>
                        <a class="btn btn-primary py-3 px-5 mt-3" href="tour-trong-nuoc/@noiBat.Link-@noiBat.IdTour">Xem Thêm...</a>
                    }
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->
    <!-- Category Start -->
    <div class="container-xxl py-5" style="z-index:-1">
        <div class="container">
            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px; visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
                <h1 class="mb-3">Các Địa Điểm <span style="color:red;font-weight:bold">Nổi Bật</span> Khác</h1>
            </div>
            <div class="row g-3">
                @for(int i=1;i<2;i++) // khi nao co du db thif so cho nay thanh 7
                {
                    var item = Model.TourList[i];
                    <div class="col-lg-4 col-sm-6 wow fadeInUp" data-wow-delay="0.1s" style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
                        @if (item.IdCategory == 1)
                        {
                            <a class="cat-item d-block bg-light text-center rounded p-3" href="tour-trong-nuoc/@item.Link-@item.IdTour">
                                <div class="rounded p-4">
                                    <div class="mb-3 card">
                                        <img class="img-fluid card" style="width:100%;height:196.656px" src="~/img/@item.Image1" alt="Icon">
                                    </div>
                                    <h6 style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;" style="margin:10px">@item.TourName</h6>
                                    <span>@item.NdaysNnights</span>
                                </div>
                            </a>
                        }
                        else
                        {
                            <a class="cat-item d-block bg-light text-center rounded p-3" href="tour-ngoai-nuoc/@item.Link-@item.IdTour">
                                <div class="rounded p-4">
                                    <div class="mb-3 card">
                                        <img class="img-fluid card" style="width:100%;height:196.656px" src="~/img/@item.Image1" alt="Icon">
                                    </div>
                                    <h6 style="margin:10px">@item.TourName</h6>
                                    <span>@item.NdaysNnights</span>
                                </div>
                            </a>
                        }
                    </div>
                }
            </div>
        </div>
    </div>
    

    <!-- Back to Top -->
@*     <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
 *@</div>
